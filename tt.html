<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <title>EXIF example with inline EXIF info</title>
</head>
<body>

    <img src="im/text1.jpg" id="img1" width="300px" height="300px" scrolling="no" frameborder="0"/>
    <pre id="one"></pre>
    <br/>

    <img src="im/text2.jpg" id="img2" width="300px" height="300px" scrolling="no" frameborder="0"/>
    <pre id="two"></pre>
    <br/>

    <img src="im/text3.jpg" id="img3" width="300px" height="300px" scrolling="no" frameborder="0"/>
    <pre id="three"></pre>
    <br/>

    <img src="im/text4.jpg" id="img4" width="300px" height="300px" scrolling="no" frameborder="0"/>
    <pre id="four"></pre>
    <br/>

    <img src="im/text5.jpg" id="img5" width="300px" height="300px" scrolling="no" frameborder="0"/>
    <pre id="five"></pre>
    <br/>

    <img src="im/text6.jpg" id="img6" width="300px" height="300px" scrolling="no" frameborder="0"/>
    <pre id="six"></pre>
    <br/>


<script type="text/javascript" src="im/exif.js"></script>
<script>
    "use strict";
    window.onload=getExif;

    /*var x = 4;
    function text() {
        var y = 6;
        x = y;
        return y;
    }
    x = text();
    window.alert(x);*/
    var pic11 ,pic12;
    var a = 3;
    function getExif() {

        var img1 = document.getElementById("img1");
        EXIF.getData(img1, function() {
            var allMetaData = EXIF.getAllTags(img1);
            var allMetaDataSpan = document.getElementById("one");

            pic11 = EXIF.getTag(img1, 'GPSLongitude');
            pic12 = EXIF.getTag(img1, 'GPSLatitude');
            //测试

            a=4;
            window.alert(a);
            allMetaDataSpan.innerHTML = JSON.stringify(allMetaData, null, "\t");
        });
        window.alert(a);

        var img2 = document.getElementById("img2");
        EXIF.getData(img2, function() {
            var allMetaData = EXIF.getAllTags(this);
            var allMetaDataSpan = document.getElementById("two");
            allMetaDataSpan.innerHTML = JSON.stringify(allMetaData, null, "\t");
        });

        var img3 = document.getElementById("img3");
        EXIF.getData(img3, function() {
            var allMetaData = EXIF.getAllTags(this);
            var allMetaDataSpan = document.getElementById("three");
            allMetaDataSpan.innerHTML = JSON.stringify(allMetaData, null, "\t");
        });

        var img4 = document.getElementById("img4");
        EXIF.getData(img4, function() {
            var allMetaData = EXIF.getAllTags(this);
            var allMetaDataSpan = document.getElementById("four");
            allMetaDataSpan.innerHTML = JSON.stringify(allMetaData, null, "\t");
        });

        var img5 = document.getElementById("img5");
        EXIF.getData(img5, function() {
            var allMetaData = EXIF.getAllTags(this);
            var allMetaDataSpan = document.getElementById("five");
            allMetaDataSpan.innerHTML = JSON.stringify(allMetaData, null, "\t");
        });

        var img6 = document.getElementById("img6");
        EXIF.getData(img6, function() {
            var allMetaData = EXIF.getAllTags(this);
            var allMetaDataSpan = document.getElementById("six");
            allMetaDataSpan.innerHTML = JSON.stringify(allMetaData, null, "\t");
        });
    }

</script>
</body>
</html>